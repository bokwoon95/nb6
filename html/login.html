<!DOCTYPE html>
<html lang="en">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="icon" href="data:,">
<link rel="stylesheet" href="/admin/static/lib/tachyons.min.css.gz">
<link rel="stylesheet" href="/admin/static/styles.css">
<title>Login</title>
<form method="post">
    {{- if $.IncorrectLoginCredentials }}
    <div itemprop="$.incorrect_login_credentials" hidden>true</div>
    <div>Incorrect login credentials</div>
    {{- else if $.PasswordReset }}
    <div itemprop="$.password_reset" hidden>true</div>
    <div>Password reset successfully. Please log in using your new credentials.</div>
    {{- end }}

    <div>
        <label for="username" class="db">Username or Email</label>
        <input id="username" name="username" value="{{ $.Username }}" itemprop="$.username">
        {{- with $errors := index $.Errors "username" }}
        <ul>
            {{- range $i, $error := $errors }}
            <li itemprop="$.errors.username[{{ $i }}]">{{ $error }}</li>
            {{- end }}
        </ul>
        {{- end }}
    </div>

    <div>
        <label for="password" class="db">Password</label>
        <input id="password" type="password" name="password" itemprop="$.password">
        {{- with $errors := index $.Errors "password" }}
        <ul>
            {{- range $i, $error := $errors }}
            <li itemprop="$.errors.password[{{ $i }}]">{{ $error }}</li>
            {{- end }}
        </ul>
        {{- end }}
    </div>

    {{- if $.Referer }}
    <input type="hidden" name="referer" value="{{ $.Referer }}" itemprop="$.referer">
    {{- end }}

    <button>Log In</button>
</form>
