<!DOCTYPE html>
<html lang="en">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="icon" href="data:,">
<link rel="stylesheet" href="/admin/static/lib/tachyons.min.css.gz">
<link rel="stylesheet" href="/admin/static/styles.css">
<title>Login</title>
<body class="centered-body">
<nav class="h2 mv2 bg-gopher-blue white flex justify-between items-center">
    <a href="" class="ma2">notebrewüñãÔ∏è‚òï</a>
</nav>
<div class="pv5">
    {{- if $.IncorrectLoginCredentials }}
    <div class="br2 mh5 ph3 pv2 ba alert-danger w-50 w-40-m w-33-l center">
        Incorrect login credentials
    </div>
    <div itemprop="$.incorrect_login_credentials" hidden>true</div>
    {{- else if $.PasswordReset }}
    <div class="br2 mh5 ph3 pv2 ba alert-success w-50 w-50-m w-33-l center">
        Password reset successfully. Please log in using your new credentials.
    </div>
    <div itemprop="$.password_reset" hidden>true</div>
    {{- end }}
    <form method="post" class="w-50 w-40-m w-33-l center">
        <div class="mv2">
            {{- $usernameErrors := index $.Errors "username" }}
            <label for="username" class="db">Username or Email</label>
            <input id="username" name="username" value="{{ $.Username }}" class="pv1 ph2 br2 ba w-100{{ if $usernameErrors }} b--invalid-red{{ end }}" itemprop="$.username">
            {{- if $usernameErrors }}
            <ul>
                {{- range $i, $error := $usernameErrors }}
                <li class="f6 invalid-red" itemprop="$.errors.username[{{ $i }}]">{{ $error }}</li>
                {{- end }}
            </ul>
            {{- end }}
        </div>

        <div class="mv2">
            {{- $passwordErrors := index $.Errors "password" }}
            <label for="password" class="db">Password</label>
            <input id="password" type="password" name="password" class="w-100 pv1 ph2 br2 ba w-100{{ if $passwordErrors }} b--invalid-red{{ end }}" itemprop="$.password"{{ if $.IncorrectLoginCredentials }} autofocus{{ end }}>
            {{- if $passwordErrors }}
            <ul>
                {{- range $i, $error := $passwordErrors }}
                <li class="f6 invalid-red" itemprop="$.errors.password[{{ $i }}]">{{ $error }}</li>
                {{- end }}
            </ul>
            {{- end }}
        </div>

        {{- if $.Referer }}
        <input type="hidden" name="referer" value="{{ $.Referer }}" itemprop="$.referer">
        {{- end }}

        <button type="submit" class="mv2">Log In</button>
    </form>
</div>
