fs.go
schema.go
notebrew.go
static.go
login.go
logout.go
resetpassword.go
file.go
createfile.go
createfolder.go
delete.go
rename.go
move.go
copy.go
recycle.go
admin.go
new.go

/admin/rssreader/ is a pseudo-folder (it does not reside in the file system, but rather the database? or can it be in the file system?) reserved for the rss reader feed

TODO: don't make the logout button so close to the Create Note/ Create Post button. Bury it inside a details/summary menu and put the users link inside as well.
TODO: /admin/createfile/ and /admin/createfolder/ should use centered-body format instead, just like /admin/login/. However make sure the words "Create Post" or "Create File" are featured very prominently as <h1>s or else it would look too much like a login form. For "Create Post" and "Create Note", it should not display to a post/note creation page but rather create a new post/note under the hood and redirect the user to that post/note. Then when you exit, it should show multiple "Untitled" posts and notes. And the user should be able to select all of them, click a context menu and bulk delete.
TODO: createnote.go
TODO: tweak file.html
- wire up the alert dismissal button (CSS + JS)
TODO: notFound(w, r) and internalServerError(w, r), which contain go-back links as well as a more descriptive error message (and notebrew headers).
TODO: create a @bokwoon site and grant root@root.com permission to it (or maybe anyone with root permission has permission to all sites?)
- Make sure creating a @bokwoon subsite works as expected and the breadcrumb links are able to display admin/@bokwoon/notes/cat/ as expected.
TODO: I fixed the authentication/authorization issue, but why is the sitePrefix not showing in file.html!
TODO: remove all occurrences of siteURL template function, "View Site" should be limited to directory view and should take the current sitePrefix into consideration (you may be root, but if you're inside the @bokwoon folder the URL should point to bokwoon.notebrew.io instead).
TODO: convert the divs into details/summary to show the information (otherwise it's just too ugly). Instead of a folder icon, the marker will be there. Site folders will use the globe icon as usual.
TODO: because custom site folders can potentially mingle with the notes/pages/posts/site/themes folders, I think it's best to move those files to the top and leave all the site folders at the bottom (even if that is not how the folders are usually organized in the filesystem).

"Notes are private and can only be accessed by the owner(s) of a site"
"Pages are public and accessible at the URL bokwoon.notebrew.io. Pages may invoke other HTML templates defined in the [themes](/site/themes/) folder. For more information, see the [guide](/path/to/guide)."
"Posts are public and located under bokwoon.notebrew.io/posts/"
"Site contains the static files used to serve bokwoon.notebrew.io. Readonly."
"Themes contain HTML templates as well as site assets (CSS stylesheets, JavaScript scripts, images)"

TODO: on file/folder/note/post creation, do a ReadDir to make sure each folder never has more than 1,000,000 entries. This is not for the users, this is for you. It ensures that no one can maliciously grind the server to a halt by creating too many files in a single folder and making people load that folder.

TODO: eventually add the ablity to upload files. We can make do with manual file creation for now.

TODO: We would eventually need add a mode to notebrew that simply serves a static multisite website from an admin folder. As in, serving a site/ folder is very straightforward with Apache or Nginx or whatever, but serving a multiple websites (subdomain/subdirectory multisite) requires knowledge of the admin folder structure which only notebrew can do. It's very important so that people can author files locally (without a DB), sync the folder using Dropbox and rsync it to a server to publish it, where notebrew is running and serving those files (*all static files*, so no one can hack it because there's nothing to hack).

TODO: consider removing the edge case where anyone with access to the root site can access all sites (but only on localhost). We can get by just fine as long as the user can see their own sites that they create.

TODO: split up createfile/createfolder
/admin/createpost/
/admin/posts/{postID}.md
/admin/createnote/
/admin/notes/{noteID}.md
/admin/createfile/
/admin/themes/{path_to_file}
/admin/createfolder/
POST /admin/cut/
{"cut":true,"files":[]}
POST /admin/copy/
POST /admin/paste/
clipboard=0123456789abcdef
{"cut":true,"source_folder":"","destination_folder":"","filenames":[]}
POST /admin/clear/
/admin/fileconflict/

POST /admin/copy/
<button type="submit" name="filenames" value="foo.md">delete</button>
POST /admin/delete/
POST /admin/rename/
POST /admin/paste/
{"cut":true,"source_folder":"","destination_folder":"","filenames":[]}

TODO: rate limiting failed logins (keyed by username, IP address)

/admin/static/...
/admin/login/
/admin/logout/
/admin/resetpassword/
/admin/@bokwoon/createfile/
/admin/@bokwoon/createfolder/
/admin/@bokwoon/rename/
/admin/@bokwoon/recylebin/
/admin/@bokwoon/delete/ TODO: rearchitect
/admin/@bokwoon/move/ TODO: rearchitect
/admin/@bokwoon/copy/ TODO: rearchitect
/admin/@bokwoon/{posts|notes|pages|templates|assets|images}/...
/admin/

delete has no error page
move

cut copy delete | paste

authentication=0123456789
notebrew-authentication: 0123456789

singlepaths: createfile, createfolder, delete, rename, move, login, logout, resetpassword
what if someone visits /admin/@bokwoon/login/?
what if someone visits /admin/@bokwoon/static/?

https://notebrew.com/admin/@bokwoon/posts/12345.md
https://notebrew.com/admin/@bokwoon/posts/12345/
https://notebrew.blog/@bokwoon/posts/12345/
https://bokwoon.notebrew.blog/posts/12345/

https://notebrew.com/admin/@bokwoon/pages/about-me.html
https://notebrew.com/admin/@bokwoon/pages/about-me/

only posts and pages have previews
notes and assets have no previews, WYSIWYG
